## Lecture 32. 네트워크 유량
by | 지은  
pub date | 2020.12.19.Sat
---

- 그래프의 '용량' 고려하기  
- 그래프에서 각 경로를 따라 보낼 수 있는 초당 자료의 용량은 경로에 포함된 간선 중 가장 용량이 작은 간선에 의해 결정  
👩‍🏫 네트워크 유량 문제: 각 간선이 용량을 갖는 그래프에서 두 정점 사이에 얼마나 많은 '흐름' 혹은 유량을 보낼 수 있는지를 계산하는 문제  

<img src="lecture32.assets/p991.jpg" width="720px">

**유량 네트워크**  
`c(u, v)`: 정점 u에서 v로 가는 간선의 용량  
`f(u, v)`: 실제 흐르는 유량  

- 용량 제한 속성: `f(u, v) <= c(u, v)` 
- 유량의 대칭성: `f(u, v) = -f(v, u)`  
- 유량의 보존: 각 정점에 들어오는 유량과 나가는 유량의 양은 정확히 같아야 함  
(유량의 대칭성에 의해 정점에 들어오는 유량은 모두 음수로 표현되므로)  

- 소스(source): 유량이 시작되는 정점
- 싱크(sink): 유량이 도착하는 정점  
→ 이 두 점에서는 유량의 보존 속성 성립 X  

### 포드-풀커슨 알고리즘  
유량 네트워크의 모든 간선의 유량을 0으로 두고 시작해, 소스에서 싱크로 유량을 보낼 수 있는 경로를 찾아 유량 보내기를 반복  
- 증가 경로: 유량을 보내는 경로  
- 잔여 용량: 간선의 용량과 유량의 차이  
```
r(u, v) = c(u, v) - f(u, v)
```
- 증가 경로를 통해 보낼 수 있는 유량의 최대량은, 포함된 간선의 잔여 용량 중 가장 작은 값으로 결정  
- 두 정점이 서로 상대에게 유량을 보내줄 때 유량은 상쇄됨

**포드-풀커슨 알고리즘의 구현**  
잔여 용량이 남은 간선들만을 사용하는 너비 우선 탐색을 이용해 증가 경로 찾기  

**정당성의 증명과 최소 컷 최대 유량 정리**  
소스가 속한 집합 **S**, 싱크가 속한 집합 **T**  
🤯🤯🤯  

**인접 리스트로 포드-풀커슨 알고리즘 구현하기**  
각 단방향 간선 (u,v)마다 용량이 0인 '유령' 간선 (v,u)를 네트워크에 추가해 줘야 함 → 유량을 상쇄하는 데만 사용  
😮 각 간선을 구조체로 표현하고, 각 간선이 반대 방향 간선의 포인터를 갖고 있도록 하면 자신의 반대 방향 간선에 빠르게 접근할 수 있음  

