## Lecture 27. 그래프의 표현과 정의
by | 지은  
pub date | 2020.11.14.Sat

---

### 그래프의 정의  
- 현실 세계의 사물이나 추상적인 개념 간의 연결 관계를 표현
- 👩‍🏫 프로그래밍 대회에서 관련 문제 자주 출제!!!
- 그래프 **G(V, E)**
    - 정점(vertex)들의 집합 V
    - 이들을 연결하는 간선(edge)들의 집합 E
    
**그래프의 종류**  

방향 그래프(directed graph)
- 각 간선이 방향
- 두 정점 u, v가 있을 때 u→v와 v→u의 간선은 서로 다른 간선
- 사람들 간의 짝사랑 💘

무향 그래프(undirected graph)
- 간선에 방향이 없는 그래프

가중치 그래프(weighted graph)
- 각 간선에 가중치(weight) 부여
- 최소 스패닝 트리, 최단 경로 문제 등에서 활용

다중 그래프(multigraph)
- 두 정점 사이에 두 개 이상의 간선이 있을 수 있는 그래프
↔︎ 단순 그래프(simple graph)

루트 없는 트리(unrooted tree)
- 부모 자식 관계가 없을 뿐, 간선들의 연결 관계는 트리와 같은 무향 그래프
- 간선을 통해 두 정점을 잇는 방법이 딱 하나

이분 그래프(bipartite graph)
- 그래프의 정점들을 겹치지 않는 두 개의 그룹으로 나눠서 서로 다른 그룹에 속한 정점들 사이에만 간선이 존재하도록 만들 수 있는 그래프

사이클 없는 방향 그래프(directed acyclic graph; DAG)
- 한 점에서 출발해 자기 자신으로 돌아오는 경로(사이클)가 존재하지 않는 경우
- 여러 작업들 간 상호 의존 관계 표현

**그래프의 경로**  
- 경로: 끝과 끝이 서로 연결된 간선들을 순서대로 나열한 것 
- 단순 경로: 한 정점을 최대 한 번만 지나는 경로
- 사이클/회로: 시작한 점에서 끝나는 경로

---

### 그래프의 사용 예

**철도망의 안정성 분석**  
철도의 각 역을 정점, 두 역 사이를 연결하는 철로들을 간선으로 표현

**소셜 네트워크 분석**
사람들 간의 지인/친밀도 관계

**인터넷 전송 속도 계산**
인터넷에 연결된 라우터와 컴퓨터들을 정점, 두 기계를 연결하는 케이블을 간선으로 표현

**한 붓 그리기**
선들이 만나는 점들을 정점, 이 점들을 연결하는 선들을 간선으로 하는 그래프

**외환 거래**
환율 목록이 주어질 때 아비트러지의 존재 여부
각 통화를 정점, 서로 교환 가능한 통화들 사에 간선을 두는 방향 그래프

---

### 암시적 그래프 구조들  
**할 일 목록 정리**
서로 의존 관계에 있는 여러 할 일  
→ 위상 정렬(topological sorting)   
→ 깊이 우선 탐색 응용

**15-퍼즐**  
게임판에서 현재 타일의 배치를 하나의 정점,  
한 배치에서 타일을 한 번 움직여 다른 배치를 얻을 수 있을 때 두 정점을 간선으로 연결하는 그래프  
→ 최단 경로 구하기

**게임판 덮기**  
게임판의 막히지 않은 칸을 정점, 상하좌우로 인접한 칸들 사이에 간선을 연결하는 그래프  
→ 이분 그래프

**회의실 배정**  
만족성 문제, 모든 사람이 두 선택지 중 하나를 선택해야 하는 문제 = 2-SAT  
→ 그래프에서의 강 결합성 문제

---

### 그래프의 표현 방법  
- 그래프는 트리보다 정적으로 사용. 즉, 새로운 정점이나 간선의 추가/삭제가 자주 일어나지 않음  
→ 변경이 어렵더라도 간단하고 메모리를 적게 차지하는 방법으로 구현
- 각 정점에 0부터 시작하는 번호를 붙이고, 배열에 각 정점의 정보를 저장
- 각 간선은 반대쪽 정점의 번호를 저장

**인접 리스트 표현**  
- 그래프의 각 정점마다 해당 정점에서 나가는 간선의 목록을 저장해서 그래프를 표현  
- 각 정점마다 하나의 연결 리스트를 갖는 방식으로 구현    
```c++
vector<list<int> > adjacent;
```
`adjacent[i]`: 정점 i와 간선을 통해 연결된 정점들의 번호를 저장하는 연결 리스트  

🤔 가중치 그래프 등 간선이 추가적인 속성을 갖는다면? → 간선의 정보를 구조체로 표현하자!  
```c++
struct Edge {
    int vertex;
    int weight;
};
```

**인접 행렬 표현**  
- 연결 리스트를 일일이 뒤지지 않고 연산의 속도를 높이기 위한 그래프 표현 방식  
- 2차원 배열을 이용해 그래프의 간선 정보를 저장
```c++
vector<vector<bool> > adjacent;
```
`adjacent[i, j]`: 정점 i에서 정점 j로 가는 간선이 있는지?  
🤔 가중치 그래프 표현 시 → 불린 값 대신 정수나 실수로 저장!  

**인접 행렬 표현과 인접 리스트 표현의 비교**  
인접 행렬 표현
- 정점의 번호 u,v가 주어졌을 때 두 정점 사이 간선 존재 여부를 한 번의 배열 접근만으로 확인 가능  
- 2차원 배열 사용 → 간선의 개수와 관계없이 항상 `O(|V|^2)` 크기의 공간 사용  

인접 리스트 표현  
- 간선 (u,v)의 존재 여부 확인을 위해 연결 리스트를 처음부터 읽어가면서 각 원소를 일일이 확인  
- 실제 간선의 수만큼의 원소 → `O(|V|+|E|)`의 공간 사용  

👩‍🏫 Tip!  
간선의 수가 `|V|^2`에 비해 적은 희소 그래프 → 인접 리스트  
간선의 수가 거의 `|V|^2`에 비례하는 밀집 그래프 → 인접 행렬

**암시적 그래프 표현**  
그래프를 이용하지만 그래프 구조를 직접 사용하지 않고도 문제를 해결할 수 있는 경우들  


